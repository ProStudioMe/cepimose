{"version":3,"names":["_i18n","require","_components","_blocks","_data","_store","_jsxRuntime","noop","BlockModeToggle","clientId","onToggle","blockType","mode","enabled","useSelect","select","getBlock","getBlockMode","getSettings","blockEditorStore","block","getBlockType","name","codeEditingEnabled","isValid","toggleBlockMode","useDispatch","hasBlockSupport","label","__","jsx","MenuItem","onClick","children"],"sources":["@wordpress/block-editor/src/components/block-settings-menu/block-mode-toggle.js"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { MenuItem } from '@wordpress/components';\nimport { getBlockType, hasBlockSupport } from '@wordpress/blocks';\nimport { useDispatch, useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { store as blockEditorStore } from '../../store';\n\nconst noop = () => {};\n\nexport default function BlockModeToggle( { clientId, onToggle = noop } ) {\n\tconst { blockType, mode, enabled } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getBlock, getBlockMode, getSettings } =\n\t\t\t\tselect( blockEditorStore );\n\t\t\tconst block = getBlock( clientId );\n\n\t\t\treturn {\n\t\t\t\tmode: getBlockMode( clientId ),\n\t\t\t\tblockType: block ? getBlockType( block.name ) : null,\n\t\t\t\tenabled: getSettings().codeEditingEnabled && !! block?.isValid,\n\t\t\t};\n\t\t},\n\t\t[ clientId ]\n\t);\n\tconst { toggleBlockMode } = useDispatch( blockEditorStore );\n\n\tif (\n\t\t! blockType ||\n\t\t! hasBlockSupport( blockType, 'html', true ) ||\n\t\t! enabled\n\t) {\n\t\treturn null;\n\t}\n\n\tconst label =\n\t\tmode === 'visual' ? __( 'Edit as HTML' ) : __( 'Edit visually' );\n\n\treturn (\n\t\t<MenuItem\n\t\t\tonClick={ () => {\n\t\t\t\ttoggleBlockMode( clientId );\n\t\t\t\tonToggle();\n\t\t\t} }\n\t\t>\n\t\t\t{ label }\n\t\t</MenuItem>\n\t);\n}\n"],"mappings":";;;;;;AAGA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AAKA,IAAAI,MAAA,GAAAJ,OAAA;AAAwD,IAAAK,WAAA,GAAAL,OAAA;AAXxD;AACA;AACA;;AAMA;AACA;AACA;;AAGA,MAAMM,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAEN,SAASC,eAAeA,CAAE;EAAEC,QAAQ;EAAEC,QAAQ,GAAGH;AAAK,CAAC,EAAG;EACxE,MAAM;IAAEI,SAAS;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAG,IAAAC,eAAS,EAC3CC,MAAM,IAAM;IACb,MAAM;MAAEC,QAAQ;MAAEC,YAAY;MAAEC;IAAY,CAAC,GAC5CH,MAAM,CAAEI,YAAiB,CAAC;IAC3B,MAAMC,KAAK,GAAGJ,QAAQ,CAAEP,QAAS,CAAC;IAElC,OAAO;MACNG,IAAI,EAAEK,YAAY,CAAER,QAAS,CAAC;MAC9BE,SAAS,EAAES,KAAK,GAAG,IAAAC,oBAAY,EAAED,KAAK,CAACE,IAAK,CAAC,GAAG,IAAI;MACpDT,OAAO,EAAEK,WAAW,CAAC,CAAC,CAACK,kBAAkB,IAAI,CAAC,CAAEH,KAAK,EAAEI;IACxD,CAAC;EACF,CAAC,EACD,CAAEf,QAAQ,CACX,CAAC;EACD,MAAM;IAAEgB;EAAgB,CAAC,GAAG,IAAAC,iBAAW,EAAEP,YAAiB,CAAC;EAE3D,IACC,CAAER,SAAS,IACX,CAAE,IAAAgB,uBAAe,EAAEhB,SAAS,EAAE,MAAM,EAAE,IAAK,CAAC,IAC5C,CAAEE,OAAO,EACR;IACD,OAAO,IAAI;EACZ;EAEA,MAAMe,KAAK,GACVhB,IAAI,KAAK,QAAQ,GAAG,IAAAiB,QAAE,EAAE,cAAe,CAAC,GAAG,IAAAA,QAAE,EAAE,eAAgB,CAAC;EAEjE,oBACC,IAAAvB,WAAA,CAAAwB,GAAA,EAAC5B,WAAA,CAAA6B,QAAQ;IACRC,OAAO,EAAGA,CAAA,KAAM;MACfP,eAAe,CAAEhB,QAAS,CAAC;MAC3BC,QAAQ,CAAC,CAAC;IACX,CAAG;IAAAuB,QAAA,EAEDL;EAAK,CACE,CAAC;AAEb","ignoreList":[]}