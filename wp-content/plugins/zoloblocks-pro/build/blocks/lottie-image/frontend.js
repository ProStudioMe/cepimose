document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".wp-block-zolo-lottie-image").forEach((e=>{const t=JSON.parse(e.dataset?.settings||"{}"),o=e.querySelector("lottie-player"),r="-1"===o?.getAttribute("direction"),n=()=>{o?._lottie?window.addEventListener("scroll",(()=>{const{totalFrames:t,goToAndStop:n}=o._lottie,i=window.innerHeight,{top:l,bottom:s}=e.getBoundingClientRect(),c=(i-l)/(i+s);new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){let e=Math.round(c*t);r&&(e=t-e),e<t&&n.call(o._lottie,e,!0)}else o.pause()}))})).observe(o)})):setTimeout(n,100)};if(o){let r=!0;o.addEventListener("complete",(()=>{r=!0})),"click"===t?.trigger&&o.addEventListener("click",(()=>{(r||0===o.currentFrame)&&(o.stop(),o.play(),r=!1)})),"scroll"===t?.trigger&&n(),"viewport"===t?.trigger&&new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?o.play():o.pause()}))})).observe(e)}}))}));