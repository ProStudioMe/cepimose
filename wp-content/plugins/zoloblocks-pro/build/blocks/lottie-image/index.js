(()=>{var e,o={1301:(e,o,t)=>{"use strict";const l=window.wp.blocks,r=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","title":"Lottie Image","name":"zolo/lottie-image","category":"zoloblocks","keywords":["zolo","lottie","image","animation","video"],"description":"Lightweight Lottie animations for web, apps, and UI.","apiVersion":3,"textdomain":"zoloblocks","example":{"attributes":{"preview":true},"viewportWidth":410},"supports":{"anchor":false,"customClassName":false,"align":["wide","full"]},"editorScript":"file:./index.js","style":"file:./style-index.css","viewScript":"file:./frontend.js","script":["lottie-player"]}'),{generateResRangeAttributies:i}=window.zoloModule,n={globalConfig:{type:"object",default:{margin:{prefix:"mainMargin"},padding:{prefix:"mainPadding"},background:{prefix:"mainBg"},border:{prefix:"mainBorder"},borderRadius:{prefix:"mainBorderRadius"},boxShadow:{prefix:"mainBoxShadow"},responsiveControls:!0}},fileId:{type:"string",default:""},fileURL:{type:"string",default:""},direction:{type:"number",default:1},trigger:{type:"string",default:"load"},loop:{type:"boolean",default:!0},speed:{type:"number",default:1},autoplay:{type:"boolean",default:!0},...i("fileWidth",{defaultUnit:"px"})},s=window.wp.blockEditor,a=window.wp.i18n;var c=t(6942),d=t.n(c);const p=window.wp.element,u=window.wp.compose,b=window.wp.components,f=window.ReactJSXRuntime,{SimpleRangeControl:g,HeaderTabs:m,AdvancedOptions:v,ZoloPanelBody:w,ResRangeControl:h}=window.zoloModule,k=function(e){const{attributes:o,setAttributes:t}=e,{fileURL:l,trigger:r,loop:i,direction:c,speed:d,resMode:p}=o,u={attributes:o,setAttributes:t,resMode:p,objAttributes:n};return(0,f.jsx)(s.InspectorControls,{children:(0,f.jsx)(m,{block:"zolo/textarea",attributes:o,setAttributes:t,generalTab:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(w,{title:(0,a.__)("General","zoloblocks"),firstOpen:!0,panelProps:e,children:[!l&&(0,f.jsxs)("p",{children:[(0,f.jsx)("strong",{children:(0,a.__)("Need Lottie files?","zoloblocks")}),(0,f.jsx)("br",{}),(0,f.jsx)("a",{href:"https://lottiefiles.com/free-animations",target:"_blank",rel:"noopener noreferrer",children:(0,a.__)("Get free animations here.","zoloblocks")})]}),l&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(b.SelectControl,{label:(0,a.__)("Animation On","zoloblocks"),help:"scroll"===r?(0,a.__)("This feature is only available on the front end","zoloblocks"):(0,a.__)("Choose the event that triggers the animation to start","zoloblocks"),value:r,options:[{label:(0,a.__)("Page Load","zoloblocks"),value:"load"},{label:(0,a.__)("Viewport","zoloblocks"),value:"viewport"},{label:(0,a.__)("Hover","zoloblocks"),value:"hover"},{label:(0,a.__)("Click","zoloblocks"),value:"click"},{label:(0,a.__)("Scroll","zoloblocks"),value:"scroll"}],onChange:e=>t({trigger:e})}),"scroll"!==r&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(g,{label:(0,a.__)("Speed","zoloblocks"),value:d,onChange:e=>t({speed:e}),onReset:()=>t({speed:void 0}),step:.1,min:0,max:10,noUnits:!0}),(0,f.jsx)(b.ToggleControl,{label:(0,a.__)("Loop","zoloblocks"),checked:!!i,onChange:()=>t({loop:!i})})]}),(0,f.jsx)(b.ToggleControl,{label:(0,a.__)("Reverse","zoloblocks"),checked:-1===c,onChange:()=>{t({direction:1===c?-1:1})}})]})]})}),advancedTab:(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v,{attributes:o,setAttributes:t,requiredProps:u,block:"zolo/lottie-image"})})})},"controls")},y=window.wp.hooks,{generateResRangeStyle:x,GlobalStyleHanlder:_}=window.zoloModule,j=({props:e})=>{const{attributes:o,setAttributes:t}=e,{uniqueId:l}=o,{desktopRangeStyle:r,tabRangeStyle:i,mobRangeStyle:n}=x({controlName:"fileWidth",property:"width",attributes:o}),s=`\n     .${l}.wp-block-zolo-lottie-image{\n            ${r}\n        }\n    `,a=`\n     .${l}.wp-block-zolo-lottie-image{\n            ${i}\n        }`,c=`\n     .${l}.wp-block-zolo-lottie-image{\n            ${n}\n        }`;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(_,{attributes:o,setAttributes:t,desktopAllStyle:(0,y.applyFilters)("zolo.marquee.desktopAllStyle",s,e),tabAllStyle:(0,y.applyFilters)("zolo.marquee.tabletAllStyle",a,e),mobileAllStyle:(0,y.applyFilters)("zolo.marquee.mobileAllStyle",c,e)})})},{classArrayToStr:S,LottiePreview:z}=window.zoloModule,{classArrayToStr:R,LottiePreview:O}=window.zoloModule,{BlockIcons:A}=window.zoloIcons;(0,l.registerBlockType)(r,{icon:{src:A["lottie-image"]},attributes:n,edit:function(e){const{attributes:o,setAttributes:t,isSelected:l,clientId:r}=e,{uniqueId:i,parentClasses:n,fileURL:c,trigger:g,loop:m,direction:v,speed:w}=o,h=(0,p.useRef)(null),y=(0,p.useRef)(!0),x=(0,s.useBlockProps)({ref:(0,u.useMergeRefs)([h]),className:d()(i,S(n))}),_=e=>{t({fileId:e.id,fileURL:e.url})},R=e=>{t({fileId:void 0,fileURL:e})},O=()=>{t({fileId:void 0,fileURL:void 0})};return(0,p.useEffect)((()=>{const e=h.current?.querySelector("lottie-player"),o="viewport"===g&&new IntersectionObserver((o=>{o.forEach((o=>{o.isIntersecting?e.play():e.pause()}))}));e&&("click"===g&&(e.addEventListener("complete",(()=>{y.current=!0})),h.current.addEventListener("click",(()=>{e.stop(),e.play(),y.current=!1}))),"viewport"===g&&o&&o.observe(h.current))}),[g,m,v,w]),(0,f.jsxs)(f.Fragment,{children:[l&&(0,f.jsx)(k,{attributes:o,setAttributes:t}),(0,f.jsx)(j,{props:e}),c&&(0,f.jsx)(s.BlockControls,{children:(0,f.jsx)(b.ToolbarGroup,{children:(0,f.jsx)(s.MediaUpload,{icon:"format-image",labels:{title:(0,a.__)("Lottie JSON","zoloblocks"),name:(0,a.__)("lottie","zoloblocks"),instructions:(0,a.__)("Upload a JSON file or pick one from your media library.","zoloblocks")},onSelect:_,onSelectURL:R,accept:["application/json"],allowedTypes:["application/json"],onError:O,render:({open:e})=>(0,f.jsx)(b.ToolbarButton,{className:"components-toolbar__control",label:(0,a.__)("Replace Lottie Files","zoloblocks"),icon:"edit",onClick:e})})})}),(0,f.jsx)("div",{...x,children:c?(0,f.jsx)(z,{url:c,trigger:g,speed:w,loop:m,direction:v,isSelected:l},JSON.stringify(`${c}-${m}-${v}-${w}-${g}`)):(0,f.jsx)(s.MediaPlaceholder,{icon:"format-image",labels:{title:(0,a.__)("Lottie JSON","zoloblocks"),name:(0,a.__)("lottie","zoloblocks"),instructions:(0,a.__)("Upload a JSON file or pick one from your media library.","zoloblocks")},onSelect:_,onSelectURL:R,accept:["application/json"],allowedTypes:["application/json"],onError:O})})]})},save:e=>{const{attributes:o}=e,{uniqueId:t,parentClasses:l,fileURL:r,trigger:i,loop:n,direction:a,speed:c,isSelected:p}=o,u={trigger:i},b=s.useBlockProps.save({className:d()(t,R(l)),"data-settings":JSON.stringify(u)});return(0,f.jsx)("div",{...b,children:r&&(0,f.jsx)(O,{url:r,trigger:i,speed:c,loop:n,direction:a,isSelected:!0})})}})},6942:(e,o)=>{var t;!function(){"use strict";var l={}.hasOwnProperty;function r(){for(var e="",o=0;o<arguments.length;o++){var t=arguments[o];t&&(e=n(e,i(t)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var t in e)l.call(e,t)&&e[t]&&(o=n(o,t));return o}function n(e,o){return o?e?e+" "+o:e+o:e}e.exports?(r.default=r,e.exports=r):void 0===(t=function(){return r}.apply(o,[]))||(e.exports=t)}()}},t={};function l(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,l),i.exports}l.m=o,e=[],l.O=(o,t,r,i)=>{if(!t){var n=1/0;for(d=0;d<e.length;d++){for(var[t,r,i]=e[d],s=!0,a=0;a<t.length;a++)(!1&i||n>=i)&&Object.keys(l.O).every((e=>l.O[e](t[a])))?t.splice(a--,1):(s=!1,i<n&&(n=i));if(s){e.splice(d--,1);var c=r();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,r,i]},l.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return l.d(o,{a:o}),o},l.d=(e,o)=>{for(var t in o)l.o(o,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={900:0,2012:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var r,i,[n,s,a]=t,c=0;if(n.some((o=>0!==e[o]))){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);if(a)var d=a(l)}for(o&&o(t);c<n.length;c++)i=n[c],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(d)},t=globalThis.webpackChunkzoloblocks_pro=globalThis.webpackChunkzoloblocks_pro||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var r=l.O(void 0,[2012],(()=>l(1301)));r=l.O(r)})();